<?xml version="1.0" encoding="utf-8" ?>
<widget
    id="stoneworx.blocknote.BlockNote"
    pluginWidget="true"
    needsEntityContext="true"
    offlineCapable="true"
    supportedPlatform="Web"
    xmlns="http://www.mendix.com/widget/1.0/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../node_modules/mendix/custom_widget.xsd"
>
    <name>Block Note</name>
    <description>
        Block-Based React rich text editor. Easily add a modern text editing experience to your app. Based on
        https://www.npmjs.com/package/@blocknote/react.
    </description>
    <icon />
    <properties>
    <propertyGroup caption="Blocks">
        <property key="blocksDataSource" type="datasource" isList="true">
            <caption>Blocks</caption>
            <description />
        </property>
        <property key="blockId" type="attribute" dataSource="blocksDataSource">
            <caption>Block ID</caption>
            <description>Attribute that contains the unique ID of the block.</description>
            <attributeTypes>
                <attributeType name="String" />
            </attributeTypes>
        </property>
        <property key="blockType" type="attribute" dataSource="blocksDataSource">
            <caption>Block Type</caption>
            <description>Attribute that contains the type of the block (e.g. paragraph, heading, image, etc.).</description>
            <attributeTypes>
                <attributeType name="String" />
            </attributeTypes>
        </property>
        <property key="contentItemAssociation" type="association" selectableObjects="blocksDataSource" dataSource="contentItemDataSource">
            <caption>Content Items</caption>
            <description>Association to the content items of the block (e.g. text, url, etc.).</description>
            <associationTypes>
                <associationType name="ReferenceSet" />
                <associationType name="Reference" />
            </associationTypes>
        </property> 
        <property key="contentItemDataSource" type="datasource" isList="true">
    <caption>Content Items</caption>
    <description/>
</property>

    </propertyGroup>
    <propertyGroup caption="General">

            <property key="jsonAttribute" type="attribute">
                <caption>JSON Configuration</caption>
                <description>Configuration JSON string. Used to load initial configuration and save configuration in the database.</description>
                <attributeTypes>
                    <attributeType name="String" />
                </attributeTypes>
            </property>

            <property key="isEditable" type="boolean" defaultValue="true">
                <caption>Editable</caption>
                <description />
            </property>

            <property key="saveAction" type="action">
                <caption>Save Action</caption>
                <description>Action to be performed when button is clicked.</description>
            </property>

            <property key="themeEnum" type="enumeration" defaultValue="light">
                <caption>Theme</caption>
                <description />
                <enumerationValues>
                    <enumerationValue key="light">Light</enumerationValue>
                    <enumerationValue key="dark">Dark</enumerationValue>
                </enumerationValues>
            </property>
            
        </propertyGroup>
    </properties>
</widget>